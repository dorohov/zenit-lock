!function(c,s){"use strict";var f,h,p,m,d,g,v,b,A,a=s.skrollr,S=s.history,T=!!S.pushState,n=function(t){return!(t===c||!t)&&("A"===t.tagName.toUpperCase()?t:n(t.parentNode))},o=function(t){if(1===t.which||0===t.button){var e=n(t.target);e&&r(e)&&t.preventDefault()}},r=function(t,e){var n,a,o;if(v){if(t.hostname!==s.location.hostname)return!1;if(t.pathname!==c.location.pathname)return!1;n=t.hash}else n=t.getAttribute("href");if(!/^#/.test(n))return!1;if(!e&&null!==t.getAttribute("data-menu-ignore"))return!1;if(null!==(o=d?d(t):t.getAttribute("data-menu-top")))a=/p$/.test(o)?o.slice(0,-1)/100*c.documentElement.clientHeight:+o*g;else{var r=c.getElementById(n.substr(1));if(!r)return!1;a=f.relativeToAbsolute(r,"top","top");var i=r.getAttribute("data-menu-offset");null!==i&&(a+=+i)}T&&A&&!e&&S.pushState({top:a},"",n);var u=parseInt(t.getAttribute("data-menu-duration"),10),l=p(f.getScrollTop(),a);return isNaN(u)||(l=u),b&&b(n,a),m&&!e?f.animateTo(a,{duration:l,easing:h}):k(function(){f.setScrollTop(a)}),!0},k=function(t){s.setTimeout(t,1)};a.menu={},a.menu.init=function(t,e){var n;f=t,h=(e=e||{}).easing||"sqrt",m=!1!==e.animate,p=e.duration||500,d=e.handleLink,g=e.scale||1,v=!0===e.complexLinks,b=e.change,A=!1!==e.updateUrl,"number"==typeof p&&(n=p,p=function(){return n}),a.addEvent(c,"click",o),T&&a.addEvent(s,"popstate",function(t){var e=(t.state||{}).top||0;k(function(){f.setScrollTop(e)})},!1),function(){if(s.location.hash&&c.querySelector){var t=c.querySelector('a[href="'+s.location.hash+'"]');t||((t=c.createElement("a")).href=s.location.hash),r(t,!0)}}()},a.menu.click=function(t){r(t)},k(function(){s.location.hash&&s.scrollTo(0,0)})}(document,window);