!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):"undefined"!=typeof module&&module.exports?e(require("jquery")):e(jQuery)}(function(ae){"use strict";var ue="left",se="right",ce="up",pe="down",he="in",de="out",fe="none",ge="auto",we="swipe",ve="pinch",Te="tap",be="doubletap",ye="longtap",Ee="horizontal",me="vertical",xe="all",Se=10,Oe="start",Me="move",De="end",Pe="cancel",Le="ontouchstart"in window,Re=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!Le,ke=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!Le,Ae="TouchSwipe";function i(e,d){d=ae.extend({},d);var t=Le||ke||!d.fallbackToMouseEvents,n=t?ke?Re?"MSPointerDown":"pointerdown":"touchstart":"mousedown",i=t?ke?Re?"MSPointerMove":"pointermove":"touchmove":"mousemove",r=t?ke?Re?"MSPointerUp":"pointerup":"touchend":"mouseup",l=t?ke?"mouseleave":null:"mouseleave",o=ke?Re?"MSPointerCancel":"pointercancel":"touchcancel",f=0,g=null,w=null,v=0,T=0,b=0,y=1,E=0,m=0,x=null,a=ae(e),S="start",O=0,M={},u=0,D=0,s=0,c=0,p=0,h=null,P=null;try{a.bind(n,L),a.bind(o,A)}catch(e){ae.error("events not supported "+n+","+o+" on jQuery.swipe")}function L(e){if(!0!==a.data(Ae+"_intouch")&&!(0<ae(e.target).closest(d.excludedElements,a).length)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=d.fallbackToMouseEvents){var n,i,r=t.touches,l=r?r[0]:t;return S=Oe,r?O=r.length:!1!==d.preventDefaultEvents&&e.preventDefault(),m=w=g=null,y=1,E=b=T=v=f=0,(i={})[ue]=ne(ue),i[se]=ne(se),i[ce]=ne(ce),i[pe]=ne(pe),x=i,B(),$(0,l),!r||O===d.fingers||d.fingers===xe||F()?(u=oe(),2==O&&($(1,r[1]),T=b=re(M[0].start,M[1].start)),(d.swipeStatus||d.pinchStatus)&&(n=N(t,S))):n=!1,!1===n?(N(t,S=Pe),n):(d.hold&&(P=setTimeout(ae.proxy(function(){a.trigger("hold",[t.target]),d.hold&&(n=d.hold.call(a,t,t.target))},this),d.longTapThreshold)),K(!0),null)}}}function R(e){var t=e.originalEvent?e.originalEvent:e;if(S!==De&&S!==Pe&&!J()){var n,i,r,l,o,a,u,s=t.touches,c=ee(s?s[0]:t);if(D=oe(),s&&(O=s.length),d.hold&&clearTimeout(P),S=Me,2==O&&(0==T?($(1,s[1]),T=b=re(M[0].start,M[1].start)):(ee(s[1]),b=re(M[0].end,M[1].end),M[0].end,M[1].end,m=y<1?de:he),y=(b/T*1).toFixed(2),E=Math.abs(T-b)),O===d.fingers||d.fingers===xe||!s||F()){if(g=le(c.start,c.end),function(e,t){if(!1===d.preventDefaultEvents)return;if(d.allowPageScroll===fe)e.preventDefault();else{var n=d.allowPageScroll===ge;switch(t){case ue:(d.swipeLeft&&n||!n&&d.allowPageScroll!=Ee)&&e.preventDefault();break;case se:(d.swipeRight&&n||!n&&d.allowPageScroll!=Ee)&&e.preventDefault();break;case ce:(d.swipeUp&&n||!n&&d.allowPageScroll!=me)&&e.preventDefault();break;case pe:(d.swipeDown&&n||!n&&d.allowPageScroll!=me)&&e.preventDefault()}}}(e,w=le(c.last,c.end)),a=c.start,u=c.end,f=Math.round(Math.sqrt(Math.pow(u.x-a.x,2)+Math.pow(u.y-a.y,2))),v=ie(),function(e,t){if(e==fe)return;t=Math.max(t,te(e)),x[e].distance=t}(g,f),n=N(t,S),!d.triggerOnTouchEnd||d.triggerOnTouchLeave){var p=!0;if(d.triggerOnTouchLeave){var h={left:(o=(l=ae(l=this)).offset()).left,right:o.left+l.outerWidth(),top:o.top,bottom:o.top+l.outerHeight()};i=c.end,r=h,p=i.x>r.left&&i.x<r.right&&i.y>r.top&&i.y<r.bottom}!d.triggerOnTouchEnd&&p?S=j(Me):d.triggerOnTouchLeave&&!p&&(S=j(De)),S!=Pe&&S!=De||N(t,S)}}else N(t,S=Pe);!1===n&&N(t,S=Pe)}}function k(e){var t,n=e.originalEvent?e.originalEvent:e,i=n.touches;if(i){if(i.length&&!J())return t=n,s=oe(),c=t.touches.length+1,!0;if(i.length&&J())return!0}return J()&&(O=c),D=oe(),v=ie(),q()||!_()?N(n,S=Pe):d.triggerOnTouchEnd||!1===d.triggerOnTouchEnd&&S===Me?(!1!==d.preventDefaultEvents&&e.preventDefault(),N(n,S=De)):!d.triggerOnTouchEnd&&z()?H(n,S=De,Te):S===Me&&N(n,S=Pe),K(!1),null}function A(){b=T=u=D=O=0,y=1,B(),K(!1)}function I(e){var t=e.originalEvent?e.originalEvent:e;d.triggerOnTouchLeave&&N(t,S=j(De))}function U(){a.unbind(n,L),a.unbind(o,A),a.unbind(i,R),a.unbind(r,k),l&&a.unbind(l,I),K(!1)}function j(e){var t=e,n=Q(),i=_(),r=q();return!n||r?t=Pe:!i||e!=Me||d.triggerOnTouchEnd&&!d.triggerOnTouchLeave?!i&&e==De&&d.triggerOnTouchLeave&&(t=Pe):t=De,t}function N(e,t){var n,i=e.touches;return(X()&&Y()||Y())&&(n=H(e,t,we)),(C()&&F()||F())&&!1!==n&&(n=H(e,t,ve)),Z()&&G()&&!1!==n?n=H(e,t,be):v>d.longTapThreshold&&f<Se&&d.longTap&&!1!==n?n=H(e,t,ye):1!==O&&Le||!(isNaN(f)||f<d.threshold)||!z()||!1===n||(n=H(e,t,Te)),t===Pe&&A(),t===De&&(i&&i.length||A()),n}function H(e,t,n){var i;if(n==we){if(a.trigger("swipeStatus",[t,g||null,f||0,v||0,O,M,w]),d.swipeStatus&&!1===(i=d.swipeStatus.call(a,e,t,g||null,f||0,v||0,O,M,w)))return!1;if(t==De&&X()){if(clearTimeout(h),clearTimeout(P),a.trigger("swipe",[g,f,v,O,M,w]),d.swipe&&!1===(i=d.swipe.call(a,e,g,f,v,O,M,w)))return!1;switch(g){case ue:a.trigger("swipeLeft",[g,f,v,O,M,w]),d.swipeLeft&&(i=d.swipeLeft.call(a,e,g,f,v,O,M,w));break;case se:a.trigger("swipeRight",[g,f,v,O,M,w]),d.swipeRight&&(i=d.swipeRight.call(a,e,g,f,v,O,M,w));break;case ce:a.trigger("swipeUp",[g,f,v,O,M,w]),d.swipeUp&&(i=d.swipeUp.call(a,e,g,f,v,O,M,w));break;case pe:a.trigger("swipeDown",[g,f,v,O,M,w]),d.swipeDown&&(i=d.swipeDown.call(a,e,g,f,v,O,M,w))}}}if(n==ve){if(a.trigger("pinchStatus",[t,m||null,E||0,v||0,O,y,M]),d.pinchStatus&&!1===(i=d.pinchStatus.call(a,e,t,m||null,E||0,v||0,O,y,M)))return!1;if(t==De&&C())switch(m){case he:a.trigger("pinchIn",[m||null,E||0,v||0,O,y,M]),d.pinchIn&&(i=d.pinchIn.call(a,e,m||null,E||0,v||0,O,y,M));break;case de:a.trigger("pinchOut",[m||null,E||0,v||0,O,y,M]),d.pinchOut&&(i=d.pinchOut.call(a,e,m||null,E||0,v||0,O,y,M))}}return n==Te?t!==Pe&&t!==De||(clearTimeout(h),clearTimeout(P),G()&&!Z()?(p=oe(),h=setTimeout(ae.proxy(function(){p=null,a.trigger("tap",[e.target]),d.tap&&(i=d.tap.call(a,e,e.target))},this),d.doubleTapThreshold)):(p=null,a.trigger("tap",[e.target]),d.tap&&(i=d.tap.call(a,e,e.target)))):n==be?t!==Pe&&t!==De||(clearTimeout(h),clearTimeout(P),p=null,a.trigger("doubletap",[e.target]),d.doubleTap&&(i=d.doubleTap.call(a,e,e.target))):n==ye&&(t!==Pe&&t!==De||(clearTimeout(h),p=null,a.trigger("longtap",[e.target]),d.longTap&&(i=d.longTap.call(a,e,e.target)))),i}function _(){var e=!0;return null!==d.threshold&&(e=f>=d.threshold),e}function q(){var e=!1;return null!==d.cancelThreshold&&null!==g&&(e=te(g)-f>=d.cancelThreshold),e}function Q(){return!d.maxTimeThreshold||!(v>=d.maxTimeThreshold)}function C(){var e=V(),t=W(),n=null===d.pinchThreshold||E>=d.pinchThreshold;return e&&t&&n}function F(){return!!(d.pinchStatus||d.pinchIn||d.pinchOut)}function X(){var e=Q(),t=_(),n=V(),i=W();return!q()&&i&&n&&t&&e}function Y(){return!!(d.swipe||d.swipeStatus||d.swipeLeft||d.swipeRight||d.swipeUp||d.swipeDown)}function V(){return O===d.fingers||d.fingers===xe||!Le}function W(){return 0!==M[0].end.x}function z(){return!!d.tap}function G(){return!!d.doubleTap}function Z(){if(null==p)return!1;var e=oe();return G()&&e-p<=d.doubleTapThreshold}function B(){c=s=0}function J(){var e=!1;s&&(oe()-s<=d.fingerReleaseThreshold&&(e=!0));return e}function K(e){a&&(!0===e?(a.bind(i,R),a.bind(r,k),l&&a.bind(l,I)):(a.unbind(i,R,!1),a.unbind(r,k,!1),l&&a.unbind(l,I,!1)),a.data(Ae+"_intouch",!0===e))}function $(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,M[e]=n}function ee(e){var t=void 0!==e.identifier?e.identifier:0,n=M[t]||null;return null===n&&(n=$(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function te(e){if(x[e])return x[e].distance}function ne(e){return{direction:e,distance:0}}function ie(){return D-u}function re(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function le(e,t){if(i=t,(n=e).x==i.x&&n.y==i.y)return fe;var n,i,r,l,o,a,u,s,c=(l=t,o=(r=e).x-l.x,a=l.y-r.y,u=Math.atan2(a,o),(s=Math.round(180*u/Math.PI))<0&&(s=360-Math.abs(s)),s);return c<=45&&0<=c?ue:c<=360&&315<=c?ue:135<=c&&c<=225?se:45<c&&c<135?pe:ce}function oe(){return(new Date).getTime()}this.enable=function(){return this.disable(),a.bind(n,L),a.bind(o,A),a},this.disable=function(){return U(),a},this.destroy=function(){U(),a.data(Ae,null),a=null},this.option=function(e,t){if("object"==typeof e)d=ae.extend(d,e);else if(void 0!==d[e]){if(void 0===t)return d[e];d[e]=t}else{if(!e)return d;ae.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}ae.fn.swipe=function(e){var t=ae(this),n=t.data(Ae);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));ae.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof e)n.option.apply(n,arguments);else if(!(n||"object"!=typeof e&&e))return function(n){!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=fe);void 0!==n.click&&void 0===n.tap&&(n.tap=n.click);n||(n={});return n=ae.extend({},ae.fn.swipe.defaults,n),this.each(function(){var e=ae(this),t=e.data(Ae);t||(t=new i(this,n),e.data(Ae,t))})}.apply(this,arguments);return t},ae.fn.swipe.version="1.6.18",ae.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},ae.fn.swipe.phases={PHASE_START:Oe,PHASE_MOVE:Me,PHASE_END:De,PHASE_CANCEL:Pe},ae.fn.swipe.directions={LEFT:ue,RIGHT:se,UP:ce,DOWN:pe,IN:he,OUT:de},ae.fn.swipe.pageScroll={NONE:fe,HORIZONTAL:Ee,VERTICAL:me,AUTO:ge},ae.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:xe}});