!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(a,e){var r=6,i=a.event.add,o=a.event.remove,c=function(t,e,n){a.event.trigger(e,n,t)},u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)},d={textarea:!0,input:!0,select:!0,button:!0},m={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},s={move:"touchmove",cancel:"touchend",end:"touchend"};function t(t){var n=t,a=!1,i=!1;function e(t){a?(n(),u(e),a=!(i=!0)):i=!1}this.kick=function(t){a=!0,i||e()},this.end=function(t){var e=n;t&&(i?(n=a?function(){e(),t()}:t,a=!0):t())}}function n(){return!0}function f(){return!1}function v(t){t.preventDefault()}function p(t){d[t.target.tagName.toLowerCase()]||t.preventDefault()}function g(t,e){var n,a;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,a=t.length;++n<a;)if(t[n].identifier===e)return t[n]}function h(t,e){var n=g(t.changedTouches,e.identifier);if(n&&(n.pageX!==e.pageX||n.pageY!==e.pageY))return n}function l(t){S(t,t.data,t,Y)}function X(t){Y()}function Y(){o(document,m.move,l),o(document,m.cancel,X)}function w(t){var e=t.data,n=h(t,e);n&&S(t,e,n,T)}function y(t){var e=t.data;g(t.changedTouches,e.identifier)&&T(e.identifier)}function T(t){o(document,"."+t,w),o(document,"."+t,y)}function S(t,e,n,a){var i=n.pageX-e.startX,o=n.pageY-e.startY;i*i+o*o<r*r||function(t,e,n,a,i,o){var r,u;e.target;r=t.targetTouches,u=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=a,e.distY=i,e.deltaX=a,e.deltaY=i,e.pageX=n.pageX,e.pageY=n.pageY,e.velocityX=a/u,e.velocityY=i/u,e.targetTouches=r,e.finger=r?r.length:1,e._handled=k,e._preventTouchmoveDefault=function(){t.preventDefault()},c(e.target,e),o(e.identifier)}(t,e,n,i,o,a)}function k(){return this._handled=n,!1}function _(t){t._handled()}function q(t){var e=t.data.timer;(t.data.touch=t).data.timeStamp=t.timeStamp,e.kick()}function A(t){var e=t.data.event,n=t.data.timer;o(document,m.move,q),o(document,m.end,A),R(e,n,function(){setTimeout(function(){o(e.target,"click",f)},0)})}function D(t){var e=t.data.event,n=t.data.timer,a=h(t,e);a&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=a,t.data.timeStamp=t.timeStamp,n.kick())}function F(t){var e,n=t.data.event,a=t.data.timer;g(t.changedTouches,n.identifier)&&(e=n,o(document,"."+e.identifier,D),o(document,"."+e.identifier,F),R(n,a))}function R(t,e,n){e.end(function(){return t.type="moveend",c(t.target,t),n&&n()})}a.event.special.movestart={setup:function(t,e,n){return i(this,"movestart.move",_),!0},teardown:function(t){return o(this,"dragstart drag",v),o(this,"mousedown touchstart",p),o(this,"movestart",_),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(i(this,"dragstart."+t.guid+" drag."+t.guid,v,e,t.selector),i(this,"mousedown."+t.guid,p,e,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(o(this,"dragstart."+t.guid+" drag."+t.guid),o(this,"mousedown."+t.guid))},_default:function(o){var r,u;o._handled()&&(r={target:o.target,startX:o.startX,startY:o.startY,pageX:o.pageX,pageY:o.pageY,distX:o.distX,distY:o.distY,deltaX:o.deltaX,deltaY:o.deltaY,velocityX:o.velocityX,velocityY:o.velocityY,timeStamp:o.timeStamp,identifier:o.identifier,targetTouches:o.targetTouches,finger:o.finger},u={event:r,timer:new t(function(t){var e,n,a,i;e=r,n=u.touch,a=u.timeStamp,i=a-e.timeStamp,e.type="move",e.distX=n.pageX-e.startX,e.distY=n.pageY-e.startY,e.deltaX=n.pageX-e.pageX,e.deltaY=n.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/i,e.velocityY=.3*e.velocityY+.7*e.deltaY/i,e.pageX=n.pageX,e.pageY=n.pageY,c(o.target,r)}),touch:e,timeStamp:e},o.identifier===e?(i(o.target,"click",f),i(document,m.move,q,u),i(document,m.end,A,u)):(o._preventTouchmoveDefault(),i(document,s.move+"."+o.identifier,D,u),i(document,s.end+"."+o.identifier,F,u)))}},a.event.special.move={setup:function(){i(this,"movestart.move",a.noop)},teardown:function(){o(this,"movestart.move",a.noop)}},a.event.special.moveend={setup:function(){i(this,"movestart.moveend",a.noop)},teardown:function(){o(this,"movestart.moveend",a.noop)}},i(document,"mousedown.move",function(t){var e,n;1!==(n=t).which||n.ctrlKey||n.altKey||(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},i(document,m.move,l,e),i(document,m.cancel,X,e))}),i(document,"touchstart.move",function(t){var e,n;d[t.target.tagName.toLowerCase()]||(n={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},i(document,s.move+"."+e.identifier,w,n),i(document,s.cancel+"."+e.identifier,y,n))}),"function"==typeof Array.prototype.indexOf&&function(t,e){for(var n=["changedTouches","targetTouches"],a=n.length;a--;)-1===t.event.props.indexOf(n[a])&&t.event.props.push(n[a])}(a)});