!function(s){var l=40,g=(new Date).getTime(),m=[],c={},u=30,d=1,p=-1,v=null,b=null,h=!1,w=null,r={useTransform:!0};function Y(){return!0!==h&&void 0!==window.DeviceOrientationEvent}function t(r){if(!((new Date).getTime()<g+l)){g=(new Date).getTime();var t=null!=c.offset()?c.offset().left:0,n=null!=c.offset()?c.offset().top:0,o=r.pageX-t,e=r.pageY-n;if(function(r){if(0===r.offsetWidth||0===r.offsetHeight)return!1;for(var t=document.documentElement.clientHeight,n=r.getClientRects(),o=0,e=n.length;o<e;o++){var a=n[o];if(0<a.top?a.top<=t:0<a.bottom&&a.bottom<=t)return!0}return!1}(m[0].obj[0].parentNode)){if(Y()){if(void 0===r.gamma)return void(h=!0);values=function(r){if(x=r.gamma,y=r.beta,90===Math.abs(window.orientation)){var t=x;x=y,y=t}return window.orientation<0&&(x=-x,y=-y),v=null===v?x:v,b=null===b?y:b,{x:x-v,y:y-b}}(r),o=values.x/u,e=values.y/u,o=((o=o<p?p:d<o?d:o)+1)/2,e=((e=e<p?p:d<e?d:e)+1)/2}var a,i,s=o/(!0===Y()?d:c.width()),f=e/(!0===Y()?d:c.height());for(i=m.length;i--;)a=m[i],w.useTransform&&!a.background?(newX=a.transformStartX+a.inversionFactor*(a.xRange*s),newY=a.transformStartY+a.inversionFactor*(a.yRange*f),newZ=a.transformStartZ,a.obj.css({transform:"translate3d("+newX+"px,"+newY+"px,"+newZ+"px)"})):(newX=a.startX+a.inversionFactor*(a.xRange*s),newY=a.startY+a.inversionFactor*(a.yRange*f),a.background?a.obj.css("background-position",newX+"px "+newY+"px"):a.obj.css("left",newX).css("top",newY))}}}s.fn.plaxify=function(i){return(w=s.extend({},r,i)).useTransform=!!w.useTransform&&function(){var r,t=document.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in document.body.insertBefore(t,null),n)void 0!==t.style[o]&&(t.style[o]="translate3d(1px,1px,1px)",r=window.getComputedStyle(t).getPropertyValue(n[o]));return document.body.removeChild(t),void 0!==r&&0<r.length&&"none"!==r}(),this.each(function(){for(var r=-1,t={xRange:s(this).data("xrange")||0,yRange:s(this).data("yrange")||0,zRange:s(this).data("zrange")||0,invert:s(this).data("invert")||!1,background:s(this).data("background")||!1},n=0;n<m.length;n++)this===m[n].obj.get(0)&&(r=n);for(var o in i)0==t[o]&&(t[o]=i[o]);if(t.inversionFactor=t.invert?-1:1,t.obj=s(this),t.background){if(pos=(t.obj.css("background-position")||"0px 0px").split(/ /),2!=pos.length)return;if(x=pos[0].match(/^((-?\d+)\s*px|0+\s*%|left)$/),y=pos[1].match(/^((-?\d+)\s*px|0+\s*%|top)$/),!x||!y)return;t.originX=t.startX=x[2]||0,t.originY=t.startY=y[2]||0,t.transformOriginX=t.transformStartX=0,t.transformOriginY=t.transformStartY=0,t.transformOriginZ=t.transformStartZ=0}else{var e=t.obj.position(),a=function(r){var t=[0,0,0],n=r.css("-webkit-transform")||r.css("-moz-transform")||r.css("-ms-transform")||r.css("-o-transform")||r.css("transform");if("none"!==n){var o=n.split("(")[1].split(")")[0].split(","),e=0,a=0,i=0;16==o.length?(e=parseFloat(o[o.length-4]),a=parseFloat(o[o.length-3]),i=parseFloat(o[o.length-2])):(e=parseFloat(o[o.length-2]),a=parseFloat(o[o.length-1]),i=0),t=[e,a,i]}return t}(t.obj);t.obj.css({transform:a.join()+"px",top:e.top,left:e.left,right:"",bottom:""}),t.originX=t.startX=e.left,t.originY=t.startY=e.top,t.transformOriginX=t.transformStartX=a[0],t.transformOriginY=t.transformStartY=a[1],t.transformOriginZ=t.transformStartZ=a[2]}t.startX-=t.inversionFactor*Math.floor(t.xRange/2),t.startY-=t.inversionFactor*Math.floor(t.yRange/2),t.transformStartX-=t.inversionFactor*Math.floor(t.xRange/2),t.transformStartY-=t.inversionFactor*Math.floor(t.yRange/2),t.transformStartZ-=t.inversionFactor*Math.floor(t.zRange/2),0<=r?m.splice(r,1,t):m.push(t)})},s.plax={enable:function(r){r?(r.activityTarget&&(c=r.activityTarget||s(document.body)),"number"==typeof r.gyroRange&&0<r.gyroRange&&(u=r.gyroRange)):c=s(document.body),c.bind("mousemove.plax",function(r){t(r)}),Y()&&(window.ondeviceorientation=function(r){t(r)})},disable:function(r){if(s(document).unbind("mousemove.plax"),window.ondeviceorientation=void 0,r&&"boolean"==typeof r.restorePositions&&r.restorePositions)for(var t=m.length;t--;)layer=m[t],w.useTransform&&!layer.background?layer.obj.css("transform","translate3d("+layer.transformOriginX+"px,"+layer.transformOriginY+"px,"+layer.transformOriginZ+"px)").css("top",layer.originY):m[t].background?layer.obj.css("background-position",layer.originX+"px "+layer.originY+"px"):layer.obj.css("left",layer.originX).css("top",layer.originY);r&&"boolean"==typeof r.clearLayers&&r.clearLayers&&(m=[])}},"undefined"!=typeof ender&&s.ender(s.fn,!0)}("undefined"!=typeof jQuery?jQuery:ender);